<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
        }
        
        .topnav {
            overflow: hidden;
            background-color: #333;
        }
        
        .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
            font-size: 17px;
        }
        
        .topnav a:hover {
            background-color: #ddd;
            color: black;
        }
        
        .topnav a.active {
            background-color: #4CAF50;
            color: white;
        }
        
        .topnav-right {
            float: right;
        }
    </style>
    <script src="user.js">
    </script>


</head>

<body>

    <div class="topnav">
        <a href="Dashboard.html">Dashboard</a>
        <a class="active" href="Users.html">Users</a>
        <a href="Login_sessions.html">Login Sessions</a>
        <a onclick="logout();">Logout</a>
        <div class="topnav-right">
            <a id="uname">hello </a>
        </div>




    </div>

    <div style="padding-left:16px">
        <h2>Add Users</h2>
        <form>
            <input type="text" id="name" name="Name" placeholder="Enter name" required>
            <input type="email" id="email" name="Email" placeholder="Enter email " required>
            <input type="password" id="pwd" name="pwd" placeholder="Enter password" required>
            <input type="date" id="bdate" name="bdate" placeholder="Enter birthdate" required>
            <input type="button" id="submit" class="btn" name="Adduser" value="Add user" onclick="adduser();" />
        </form>
        <br>
        <br>
        <script type="text/javascript">
            document.write('<table  border="1" class="table table-data2" id="table-user">');
            document.write('<thread>');
            document.write('<th>Name</th>');
            document.write('<th>Email</th>');
            document.write('<th>Password</th>');
            document.write('<th>Birthdate</th>');
            document.write('<th>Age</th>');
            document.write('<th colspan="2">Actions</th>');

            document.write('</thread>');
            document.write('<tbody>');
            document.write('<tr>');

            var array = localStorage.getItem('array_user');
            var items = JSON.parse(array);

            array = items;


            for (var k = 0; k < array.length; k++) {
                document.write('<td>' + array[k].user_name + '</td>');
                document.write('<td>' + array[k].user_email + '</td>');
                document.write('<td>' + array[k].user_pwd + '</td>');
                document.write('<td>' + array[k].user_bdate + '</td>');
                document.write('<td>' + getAge(array[k].user_bdate) + '</td>');

                document.write('<td><a onclick="Edit();">Edit</a> &nbsp;&nbsp; <a onclick="Delete();">Delete</a></td>');

                document.write('</tr>');
            }

            document.write('</tbody></table>');
        </script>




    </div>

</body>
<script>
    document.getElementById("uname").innerHTML = "Hello " + sessionStorage.getItem("name");

    function getAge(dateString) {
        var today = new Date();
        var birthDate = new Date(dateString);
        var age = today.getFullYear() - birthDate.getFullYear();
        var m = today.getMonth() - birthDate.getMonth();
        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
            age--;
        }
        return age;
    }
</script>

</html>